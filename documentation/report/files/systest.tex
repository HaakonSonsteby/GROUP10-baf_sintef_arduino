
Testing is an integral part of every development process.
Many different testing approaches have been proposed during the history of
software development, but they all suggest that testing has to be performed
continuously during the development process. This is of particular importance to
our process since it follows an iterative approach. Testing should be planned in
the early stages of each iteration for each testable unit that is going to be
implemented and performed as soon as it is completed. As the system evolves so
does the testing. It should be more comprehensive and cover each module and the
system itself as a whole.

\section{Customer feedback}
Customer feedback was an important part of the testing approach for our project.
Working prototypes and/or documentation were produced for each meeting with the
customer in order to test the features implemented, receive a general acceptance
on our iteration goals and plan the next iteration. Receiving a constant
feedback from the user was very important as the project didn't really have a
specific set of requirements from the beginning, so acquiring feedback from the
customer allowed us to understand the most common use case scenarios and from
those obtain a set of requirements used to design the system and plan test cases.

\section{Testing approach}
Testing can be performed in a top-down or bottom-up fashion.

The top-down approach consists in integrating modules incrementally, moving
downward in the hierarchy in either a breadth-first or depth-first fashion.
Subordinate dummy modules are substituted one at time with the real ones and
tested. Regression testing follows each integration increment.

On the other side the bottom-up approach begins testing atomic modules,
sometimes combining them into clusters, and moves upward in the program
structure. Sometimes 'driver' programs are produced in order to test
non-standalone components like libraries. This approach eliminates the need for
dummy modules, but the system as whole doesn't exist as an "entity" until the
last module is integrated.

In our case, since we presented many prototypes to the customer, we needed to
have an implementation of the system as a whole quite early. We coded various
mockup applications that acted as 'drivers' in order to demonstrate and test the
functionalities of the libraries. Stubs (or dummy modules) were also coded
to supply functionalities not yet fully implemented.

\todo {
	mention that mockups have their own package: no.ntnu.osnap.mockups
	add a link to package structure maybe?
}

\section{Unit testing}
Unit testing involves testing small portions of code or of the system itself
(modules). Where possible, functions have been tested indipendetly. In order to
test non indipendent system modules, such as the libraries, mockup applications
were coded.

\section{User interface testing}
Since our product encompassed various Android applications, we performed some
user interface testing. To make sure the user interfaces are understandable and
easy to use, we have delegated their testing to group members that have not been
involved in their design and coding.

\section{Integration testing}
Once the system modules were completed they were integrated one by one into the
final system. After each stub had been swapped with its correspective module,
it was tested again to ensure it was working properly.

\section{System testing}
System testing constists in testing the system as a whole.
In our case this consisted in testing our final prototype, performing a series
of tests involving all the parts of the system from the Social applications to
the Prototype application and lastly to the Arduino board on the jacket.

\section{Functional requirement testing}
Since the project is a combination of proof-of-concept and research project,
tests are planned in order to support a run of the system, not to test for
particular scenarios or more specific use. The unit tests is planned to see if
we have fulfilled the functional requirements from packages F1-F7.

\section{Testing order}
Since some of the packages are connected, we need to test them in order.

Testing of hardware packages F5-F7 involves checking added components (sound,
light, vibration, etc) and confirm that they are functional. Software that is
connected to hardware (F3, F4) is tested with the relevant packages so we have
shown a proof of concept.

Packages SocialLib F1 is tested together with F3 and F4 as the social protocol
between the applications. Package ComLib F2 is a part of all test that includes
a wireless connection from cell phone to Arduino board.

\begin{table}[h!]
\begin{tabular}{|l|p{10cm}|}
\hline Test ID: &		[F5] T-shirt prototype. \\
\hline Purpose: &		Test that all components connected to the Arduino board
						work as expected. \\
\hline Precondition: &	The Arduino is connected to a PC via USB, all components
						are connected to the Arduino board. The Arduino board is
						on.\\
\hline
Steps:
 & 1: Toggle a LED status. \\
 & 2: Send a signal to the vibrator module. \\
 & 3: Print some text to LCD display. \\
 & 4: Send sound to speaker.\\
\hline
Expected result:
 & 1: LED is toggled on/off.\\
 & 2: Vibrator works. \\ 
 & 3: Correct text is displayed on LCD. \\ 
 & 4: A sound is emitted by the speaker. \\
\hline
Actual Result:
 & Passed. \\
\hline
\end{tabular}
\caption{Test F5}
\label{tbl:f5test}
\end{table}

\begin{table}[h!]
\begin{tabular}{|l|p{10cm}|}
\hline Test ID: &		[F6] Temperature prototype. \\
\hline Purpose: &		Test temperature prototype functionality. \\
\hline Precondition: &	The Arduino board is connected to a PC via USB. The
						Arduino board is on. The temperature sensor and a LCD
						screen are connected to the Arduino.\\
\hline
Steps:
 & 1: Press a button. \\
\hline
Expected result:
 & Temperature is displayed on Arduino's LCD.\\ 
\hline
Actual Result:
 & Passed \\
\hline
\end{tabular}
\caption{Test F6}
\label{tbl:f6test}
\end{table}

\begin{table}[h!]
\begin{tabular}{|l|p{10cm}|}
\hline Test ID: &		[F7] LED matrix. \\
\hline Purpose: &		Test LED matrix prototype. \\
\hline Precondition: &	The Arduino is connected to a PC via USB. The Arduino
						board is on. The LED matrix is connected to the
						Arduino. \\
\hline
Steps:
 & 1: Send sample data to Arduino. \\
\hline
Expected result:
 & Correct LED light up according to sample data.\\ 
\hline
Actual Result:
 & Passed \\
\hline
\end{tabular}
\caption{Test F7}
\label{tbl:f7test}
\end{table}

\begin{table}[h!]
\begin{tabular}{|l|p{10cm}|}
\hline Test ID: &		[F7] Led Matrix / [F2] Comm. library \\
\hline Purpose: &		Test pushing data to Arduino board from cell phone. \\
\hline Precondition: &	Cell phone is on and Arduino board is powered. \\
\hline
Steps:
 & 1: Pair cell phone with Arduino board using Android OS.\\ 
 & 2: Start LED application on cell phone. \\ 
 & 3: Press 'Choose a picture' button. \\
 & 4: Browse gallery and select a picture. \\
 & 5: Press 'Send to LED matrix' button. \\
\hline
Alternative steps:
 & 1: Pair cell phone with Arduino board using Android OS.\\
 & 2: Start LED application on cell phone. \\ 
 & 3: Press 'Take a picture' button. \\
 & 4: User takes a picture with the mobile phone. \\
 & 5: Press 'Send to LED matrix' button. \\
\hline
Expected result:
 & 1: Data is sent to from cell phone to Arduino board.\\ 
 & 2: Correct LED lights up. \\ 
\hline
Actual Result: &  result \\
\hline
\end{tabular}
\caption{Test F7/F2}
\label{tbl:f7f2test}
\end{table}

\begin{table}[h!]
\begin{tabular}{|l|p{10cm}|}
\hline Test ID: &		[F1] Social lib. / [F2] Comm. lib. / [F3] Facebook App /
						[F4] T-shirt app. / [F5] T-shirt TUI prototype. \\
\hline Purpose: &		Test both the libraries to send social messages between app
						and push them to T-shirt.  \\
\hline Precondition: &	The two applications are installed and the T-shirt is on and paired with cell phone. \\
\hline
Steps:
  & 1: Start Facebook application.\\ 
  & 2: Press 'Log in' button. \\ 
  & 3: Start t-shirt app. \\ 
  & 4: Select a social network from a list of available social services. \\
  & 5: Set up rules to define the behavior of the tshirt. \\
  & 6: Return to cell phone desktop. \\
  & 7: Send a sample Facebook message on PC. \\
\hline
Expected result:
   & Depending on the rules that have been set, the correct text is displayed,
   or the correct LED lights up.. and so on.\\ 
\hline
Actual Result:
  &  result \\
\hline
\end{tabular}
\caption{Test F1/F3/F4/F5}
\label{tbl:f1f3f4f5test}
\end{table}

\begin{table}[h!]
\begin{tabular}{|l|p{10cm}|}
\hline Test ID: & F6 Temperature/F1 Social Lib/F2 ComLib. \\ 
\hline Purpose: & Test pushing data from Arduino board to a social network.  \\ 
\hline Context: & End to end Test with Facebook application and simple app to retrieve data from Arduino board. \\ 
\hline Precondition: & The two apps are installed and Arduino board is powered and paired. \\ 
\hline
Steps:
  & 1: Start Facebook application. \\
  & 2: Prestt 'Log in' button\\ 
  & 3: Start prototype's application. \\ 
  & 4: Press the 'On' button. \\
  & 5: Press button on the Arduino board to send temperature. \\ 
\hline
Expected result:
  & Temperature is posted on Facebook wall. \\ 
\hline
Actual Result:
  & result \\
\hline
\end{tabular}
\caption{Test F6/F1/F2}
\label{tbl:f6f1f2test}
\end{table}

\begin{table}[h!]
\begin{tabular}{|l|p{10cm}|}
\hline Test ID: &		[F?] oSNAP app. / [F2] Comm. lib \\
\hline Purpose: &		Test connecting to the Jacket TUI prototype using the
						Comm. lib and oSNAP application. \\
\hline Precondition: &	The oSNAP app is installed on an Android phone. The
						Arduino board is installed in the Jacket and powered. \\
\hline
Steps:
 & 1: Start oSNAP application \\
 & 2: Press 'Scan QR code' button \\
 & 3: Scan QR code on the Jacket. \\
 & 4: Press 'Toggle LED' button (turn on) \\
 & 5: Press 'Toggle LED' button (turn off) \\
 & 6: Press 'Play sound' button \\
 & 7: Press 'Print "Hello world" button' \\
 & 8: Press 'Vibrate' button \\
\hline
Expected result:
 & The oSNAP application connects to the Arduino. \\
 & Led is toggle on and then off. \\
 & A sound is played. \\
 & The vibration module vibrates. \\
 & The 'Hello world' string is printed on the LCD \\
\hline
Actual Result:
 & Passed \\
\hline
\end{tabular}
\caption{Test ?}
\end{table}

\begin{table}[h!]
\begin{tabular}{|l|p{10cm}|}
\hline Test ID: &		[F1] Social lib. / [F3] Facebook app. / [F?] Twitter app.\\
\hline Purpose: &		Testing the Social library and social applications
						functionality \\
\hline Precondition: &	A mockup TUI prototype application is installed on an
						Android mobile, as well as the FB and Twitter apps. \\
\hline
Steps:
 & 1: Start the Facebook application \\
 & 2: Press 'Login' button \\
 & 3: Enter user's credentials and proceed with log in \\
 & 4: Exit the Facebook application \\
 & 5: Start the Twitter application \\
 & 6: Exit the Twitter application \\
 & 7: Start the mockup prototype application \\
 & 8: Press 'Discover social services' button \\
 & 9: Press 'Make a request' button \\
\hline
Expected result:
 & User is correctly authenticated (Facebook) \\
 & The Facebook social service is discovered by the mockup app. \\
 & The Twitter social service is discovered by the mockup app. \\
 & The mockup app. receives the correct response based on the request made \\
\hline
Actual Result:
 & Passed \\
\hline
\end{tabular}
\caption{Test ?}
\end{table}

